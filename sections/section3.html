<!-- SLIDE 15: CH∆Ø∆†NG III -->
<div class="slide-container">
    <div style="text-align: center; height: 100%; display: flex; flex-direction: column; justify-content: center;">
        <h2 style="font-size: 120px; color: #f1f5f9; font-weight: 900; margin-bottom: -50px;">SECTION 03</h2>
        <h1>Vi ki·∫øn tr√∫c <span>Ph·∫ßn c·ª©ng</span></h1>
        <hr
            style="width: 180px; height: 10px; background: #1e40af; border: none; margin: 40px auto; border-radius: 5px;">
        <p class="subtitle">D√¢y chuy·ªÅn s·∫£n xu·∫•t l·ªánh, t·ªëi ∆∞u t·ª´ng nanosecond</p>
    </div>
</div>


<!-- SLIDE 16: PIPELINE -->
<div class="slide-container">
    <h2 class="slide-title">Vi ki·∫øn tr√∫c <span>Pipeline Timing Diagram</span></h2>
    <div class="content-area">
        <!-- Concept Explanation -->
        <div style="display: flex; gap: 15px; margin-bottom: 30px; justify-content: center;">
            <div class="tile pipe-stage" style="padding: 15px 25px; border-top: 5px solid #1e40af; flex: 0 1 auto;">
                <b>IF</b>
                Fetch
            </div>
            <div class="tile pipe-stage" style="padding: 15px 25px; border-top: 5px solid #3b82f6; flex: 0 1 auto;">
                <b>ID</b>
                Decode
            </div>
            <div class="tile pipe-stage" style="padding: 15px 25px; border-top: 5px solid #60a5fa; flex: 0 1 auto;">
                <b>EX</b>
                Execute
            </div>
            <div class="tile pipe-stage" style="padding: 15px 25px; border-top: 5px solid #93c5fd; flex: 0 1 auto;">
                <b>MEM</b>
                Memory
            </div>
            <div class="tile pipe-stage" style="padding: 15px 25px; border-top: 5px solid #cbd5e1; flex: 0 1 auto;">
                <b>WB</b>
                WriteBack
            </div>
        </div>

        <!-- Visual Timing Diagram -->
        <div
            style="background: #f8fafc; padding: 25px; border-radius: 20px; border: 1px solid #e2e8f0; overflow-x: auto;">
            <div style="display: grid; grid-template-columns: 100px repeat(9, 1fr); gap: 10px; align-items: center;">
                <!-- Header Cycles -->
                <div style="font-weight: 800; color: #64748b;">Instr \#</div>
                <div class="timing-col-1" style="text-align: center; color: #94a3b8; font-weight: 700;">CC 1</div>
                <div class="timing-col-2" style="text-align: center; color: #94a3b8; font-weight: 700;">CC 2</div>
                <div class="timing-col-3" style="text-align: center; color: #94a3b8; font-weight: 700;">CC 3</div>
                <div class="timing-col-4" style="text-align: center; color: #94a3b8; font-weight: 700;">CC 4</div>
                <div class="timing-col-5" style="text-align: center; color: #94a3b8; font-weight: 700;">CC 5</div>
                <div class="timing-col-6" style="text-align: center; color: #94a3b8; font-weight: 700;">CC 6</div>
                <div class="timing-col-7" style="text-align: center; color: #94a3b8; font-weight: 700;">CC 7</div>
                <div class="timing-col-8" style="text-align: center; color: #94a3b8; font-weight: 700;">CC 8</div>
                <div class="timing-col-9" style="text-align: center; color: #94a3b8; font-weight: 700;">CC 9</div>

                <!-- Row 1: LW -->
                <div style="font-family: 'Azeret Mono'; font-size: 14px; font-weight: 700;">LW x1</div>
                <div
                    style="background: linear-gradient(135deg, #1e40af, #3b82f6); color: white; border-radius: 8px; padding: 10px 0; text-align: center; font-size: 14px; font-weight: 700;">
                    IF</div>
                <div
                    style="background: linear-gradient(135deg, #3b82f6, #60a5fa); color: white; border-radius: 8px; padding: 10px 0; text-align: center; font-size: 14px; font-weight: 700;">
                    ID</div>
                <div
                    style="background: linear-gradient(135deg, #60a5fa, #93c5fd); color: white; border-radius: 8px; padding: 10px 0; text-align: center; font-size: 14px; font-weight: 700;">
                    EX</div>
                <div
                    style="background: linear-gradient(135deg, #93c5fd, #bfdbfe); color: #0f172a; border-radius: 8px; padding: 10px 0; text-align: center; font-size: 14px; font-weight: 700;">
                    MEM</div>
                <div
                    style="background: linear-gradient(135deg, #cbd5e1, #e2e8f0); color: #0f172a; border-radius: 8px; padding: 10px 0; text-align: center; font-size: 14px; font-weight: 700;">
                    WB</div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>

                <!-- Row 2: ADD -->
                <div style="font-family: 'Azeret Mono'; font-size: 14px; font-weight: 700;">ADD x2</div>
                <div></div>
                <div
                    style="background: #1e40af; color: white; border-radius: 8px; padding: 10px 0; text-align: center; font-size: 14px; font-weight: 700;">
                    IF</div>
                <div
                    style="background: #3b82f6; color: white; border-radius: 8px; padding: 10px 0; text-align: center; font-size: 14px; font-weight: 700;">
                    ID</div>
                <div
                    style="background: #60a5fa; color: white; border-radius: 8px; padding: 10px 0; text-align: center; font-size: 14px; font-weight: 700;">
                    EX</div>
                <div
                    style="background: #93c5fd; color: #0f172a; border-radius: 8px; padding: 10px 0; text-align: center; font-size: 14px; font-weight: 700;">
                    MEM</div>
                <div
                    style="background: #cbd5e1; color: #0f172a; border-radius: 8px; padding: 10px 0; text-align: center; font-size: 14px; font-weight: 700;">
                    WB</div>
                <div></div>
                <div></div>

                <!-- Row 3: SW -->
                <div style="font-family: 'Azeret Mono'; font-size: 14px; font-weight: 700;">SW x3</div>
                <div></div>
                <div></div>
                <div
                    style="background: #1e40af; color: white; border-radius: 8px; padding: 10px 0; text-align: center; font-size: 14px; font-weight: 700;">
                    IF</div>
                <div
                    style="background: #3b82f6; color: white; border-radius: 8px; padding: 10px 0; text-align: center; font-size: 14px; font-weight: 700;">
                    ID</div>
                <div
                    style="background: #60a5fa; color: white; border-radius: 8px; padding: 10px 0; text-align: center; font-size: 14px; font-weight: 700;">
                    EX</div>
                <div
                    style="background: #93c5fd; color: #0f172a; border-radius: 8px; padding: 10px 0; text-align: center; font-size: 14px; font-weight: 700;">
                    MEM</div>
                <div
                    style="background: #cbd5e1; color: #0f172a; border-radius: 8px; padding: 10px 0; text-align: center; font-size: 14px; font-weight: 700;">
                    WB</div>
                <div></div>

                <!-- Row 4: SUB -->
                <div style="font-family: 'Azeret Mono'; font-size: 14px; font-weight: 700;">SUB x4</div>
                <div></div>
                <div></div>
                <div></div>
                <div
                    style="background: #1e40af; color: white; border-radius: 8px; padding: 10px 0; text-align: center; font-size: 14px; font-weight: 700;">
                    IF</div>
                <div
                    style="background: #3b82f6; color: white; border-radius: 8px; padding: 10px 0; text-align: center; font-size: 14px; font-weight: 700;">
                    ID</div>
                <div
                    style="background: #60a5fa; color: white; border-radius: 8px; padding: 10px 0; text-align: center; font-size: 14px; font-weight: 700;">
                    EX</div>
                <div
                    style="background: #93c5fd; color: #0f172a; border-radius: 8px; padding: 10px 0; text-align: center; font-size: 14px; font-weight: 700;">
                    MEM</div>
                <div
                    style="background: #cbd5e1; color: #0f172a; border-radius: 8px; padding: 10px 0; text-align: center; font-size: 14px; font-weight: 700;">
                    WB</div>
            </div>
        </div>
        <p class="subtitle" style="text-align: center; margin-top: 15px; font-size: 18px;">L√Ω t∆∞·ªüng: 1 Instruction
            ho√†n th√†nh m·ªói Cycle (CPI = 1).</p>
    </div>
</div>


<!-- SLIDE 17: CONTROL LOGIC -->
<div class="slide-container">
    <h2 class="slide-title">B·∫£ng ch√¢n tr·ªã <span>Control Unit</span></h2>
    <div class="content-area">
        <table class="interactive-table">
            <thead>
                <tr>
                    <th>L·ªánh</th>
                    <th>RegWrite</th>
                    <th>ALUSrc</th>
                    <th>MemRead</th>
                    <th>MemWrite</th>
                    <th>ALUOp</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>R-type</td>
                    <td>1</td>
                    <td>0 (Reg)</td>
                    <td>0</td>
                    <td>0</td>
                    <td>10</td>
                </tr>
                <tr>
                    <td>LW (Load)</td>
                    <td>1</td>
                    <td>1 (Imm)</td>
                    <td>1</td>
                    <td>0</td>
                    <td>00</td>
                </tr>
                <tr>
                    <td>SW (Store)</td>
                    <td>0</td>
                    <td>1 (Imm)</td>
                    <td>0</td>
                    <td>1</td>
                    <td>00</td>
                </tr>
                <tr>
                    <td>BEQ (Branch)</td>
                    <td>0</td>
                    <td>0 (Reg)</td>
                    <td>0</td>
                    <td>0</td>
                    <td>01</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>


<!-- SLIDE 18: FORWARDING -->
<div class="slide-container">
    <h2 class="slide-title">Xung ƒë·ªôt d·ªØ li·ªáu <span>& Forwarding</span></h2>
    <div class="content-area">
        <div class="code-box">ADD x1, x2, x3<br>SUB x4, x1, x5 &nbsp;// x1 c·∫ßn ngay t·∫ßng EX</div>
        <div class="two-column">
            <div class="tile">
                <h3>RAW Hazard</h3>
                <p>ƒê·ªçc thanh ghi khi ch∆∞a k·ªãp ghi tr·∫£ k·∫øt qu·∫£.</p>
            </div>
            <div class="tile" style="border-left: 8px solid #1e40af;">
                <h3>Gi·∫£i ph√°p</h3>
                <p>M·∫°ch Forwarding ƒëi t·∫Øt d·ªØ li·ªáu t·ª´ EX v·ªÅ ID.</p>
            </div>
        </div>
    </div>
</div>


<!-- SLIDE 19: LOAD USE -->
<div class="slide-container">
    <h2 class="slide-title">Load-Use <span>Hazard & Stalling</span></h2>
    <div class="content-area">
        <div class="code-box">LW x1, 0(x2)<br>ADD x3, x1, x4 &nbsp;// D·ªØ li·ªáu ch·ªâ c√≥ sau MEM</div>
        <div class="two-column">
            <div class="tile">
                <h3>V·∫•n ƒë·ªÅ</h3>
                <p>Forwarding kh√¥ng th·ªÉ ƒëi ng∆∞·ª£c th·ªùi gian.</p>
            </div>
            <div class="tile" style="border-left: 8px solid #ef4444;">
                <h3>Stall</h3>
                <p>Ch√®n l·ªánh tr·ªëng (Bubble) ƒë·ªÉ tr√¨ ho√£n Pipeline.</p>
            </div>
        </div>
    </div>
</div>


<!-- SLIDE: RISC-V CPU VISUALIZER -->
<div class="slide-container">
    <h2 class="slide-title">Demo <span>RISC-V CPU Visualizer</span></h2>
    <div class="content-area">
        <div class="two-column" style="gap: 50px;">
            <!-- Left: Description -->
            <div style="display: flex; flex-direction: column; gap: 25px;">
                <div class="tile" style="border-left: 8px solid #1e40af; text-align: left;">
                    <h3><i class="fa-solid fa-eye"></i> C√¥ng c·ª• tr·ª±c quan h√≥a</h3>
                    <p style="margin-top: 15px;">Web app m√¥ ph·ªèng ho·∫°t ƒë·ªông c·ªßa CPU RISC-V theo t·ª´ng chu k·ª≥ xung clock,
                        gi√∫p hi·ªÉu r√µ:</p>
                    <ul style="margin-top: 15px; text-align: left; font-size: 20px;">
                        <li>Datapath flow t·ª´ng giai ƒëo·∫°n</li>
                        <li>Pipeline stages ho·∫°t ƒë·ªông</li>
                        <li>Hazard detection & forwarding</li>
                        <li>Register file updates</li>
                    </ul>
                </div>
                <div
                    style="background: linear-gradient(135deg, #1e40af, #3b82f6); padding: 25px; border-radius: 20px; color: white; text-align: center;">
                    <p style="font-size: 22px; color: white; font-weight: 700;"><i class="fa-solid fa-laptop-code"
                            style="margin-right: 10px;"></i>Single-Stage & Pipeline Modes</p>
                    <p style="font-size: 16px; color: #e0f2fe; margin-top: 10px;">H·ªó tr·ª£ step-by-step execution</p>
                </div>
            </div>
            <!-- Right: QR Code -->
            <div
                style="display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 20px;">
                <div
                    style="background: white; padding: 20px; border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.1);">
                    <img src="https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=https://risc-v-cpu-visualizer.vercel.app/single-stage"
                        alt="QR Code RISC-V Visualizer" style="width: 250px; height: 250px; border-radius: 10px;">
                </div>
                <p style="font-size: 18px; color: #64748b; font-weight: 700;">üì± Qu√©t ƒë·ªÉ truy c·∫≠p</p>
                <a href="https://risc-v-cpu-visualizer.vercel.app/single-stage" target="_blank"
                    style="background: #0f172a; color: white; padding: 15px 30px; border-radius: 30px; text-decoration: none; font-weight: 700; font-size: 16px;">
                    <i class="fa-solid fa-external-link"
                        style="margin-right: 10px;"></i>risc-v-cpu-visualizer.vercel.app
                </a>
            </div>
        </div>
    </div>
</div>